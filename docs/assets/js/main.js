"use strict";const charactersList=document.querySelector(".js_characters"),searchBtn=document.querySelector(".js_btn"),input=document.querySelector(".js_input"),favoritesList=document.querySelector(".js_favorites"),deleteBtn=document.querySelector(".js_deleteBtn");let charactersDataList=[],favoriteDataList=[];const baseUrl="https://breakingbadapi.com/api/characters";function renderCharacters(){let t="";for(const e of charactersDataList){let a="";-1!==favoriteDataList.findIndex(t=>t.name===e.name)&&(a="markCharacter"),t+=`<article class="article_card js_article ${a}" id="${e.char_id}">`,t+=`<img class="img" src="${e.img}"></>`,t+=`<p class="name"> ${e.name}</p>`,t+=`<p class="status"> ${e.status}</p>`,t+="</article>"}charactersList.innerHTML=t,addFavorites()}function getCharacters(t){fetch(t).then(t=>t.json()).then(t=>{charactersDataList=t,renderCharacters()})}function addFavorites(){const t=document.querySelectorAll(".js_article");for(const e of t)e.addEventListener("click",handleClickFavorites)}function handleClickFavorites(t){t.currentTarget.classList.toggle("selected");const e=charactersDataList.find(e=>e.char_id==t.currentTarget.id),a=favoriteDataList.findIndex(e=>e.char_id==t.currentTarget.id);-1===a?(favoriteDataList.push(e),localStorage.setItem("favoriteCharacter",JSON.stringify(favoriteDataList))):(favoriteDataList.splice(a,1),localStorage.setItem("favoriteCharacter",JSON.stringify(favoriteDataList))),renderFavorites()}function renderFavorites(){let t="";for(const e of favoriteDataList)t+=`<article class="article_card js_article" id="${e.char_id}">`,t+=`<img class="img" src="${e.img}"></>`,t+=`<p class="name"> ${e.name}</p>`,t+=`<p class="status"> ${e.status}</p>`,t+="</article>";favoritesList.innerHTML=t}getCharacters(baseUrl),searchBtn.addEventListener("click",t=>{t.preventDefault(),getCharacters("https://breakingbadapi.com/api/characters?name="+input.value.toLowerCase()),renderCharacters()}),deleteBtn.addEventListener("click",t=>{favoritesList.innerHTML="",localStorage.removeItem("favoriteCharacter")});const savedFavorites=JSON.parse(localStorage.getItem("favoriteCharacter"));null!==savedFavorites&&(favoriteDataList=savedFavorites,renderFavorites());